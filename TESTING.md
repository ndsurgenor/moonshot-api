# moonshot-api : Backend Testing

_Note: to open links in a new tab, hold CTRL + Click_<br>
_Note: this document only contains testing info for the moonshot frontend site_
- _If you require testing info for the frontend please [click here to access moonshot/TESTING.md](https://github.com/ndsurgenor/moonshot/blob/main/TESTING.md)_
- _If you require full documentation please [click here to access the README.md](README.md) file_

## Table Of Contents
- [Introduction](#eastst---testing)
- [Manual Testing](#manual-testing)
    - [Authentication](#authentication)
    - [GPPD (CRUD) Functionality](#get-post-put--delete-crud-functionality)
        - [Photo Tests](#photo-tests)
        - [Comment Tests](#comment-tests)
        - [Star Tests](#star-tests)
        - [Gear & Account Detail Tests](#gear--account-detail-tests)
        - [Filter Tests](#filter-tests)
<!-- - [Automated Testing](#automated-testing) -->
- [PEP8 Validator Testing](#pep8-validator-testing)
    - [W3C](#w3c)
    - [Quick lint JS](#quick-lint-js)
- [Bugs](#bugs)

## Manual Testing

The following sections list a number of manual tests undertaken to ensure the site operates according to details listed under [Scope](README.md#scope) and [Structure](README.md#structure) in the README file. Specific dev goals/user stories can viewed (where appropriate) by hovering over the numbers listed under 'Ref(s)' in the tables below; clicking these links will open the relevant section in the README file.

### Authentication

These tests check the sign up, sign in, and sign out functionality of the site. The username _testname_ and password _test#123_ have specifically been registered to help determine the outcome of these tests.

**Test**|**Ref(s)**|**Steps**|**Expected**|**Result**
-----|:-----:|-----|-----|:-----:
User can sign up to the site|[2.3](README.md#milestone-2---frontend-navigation "As a Site Visitor I want to easily access a sign up page so I can become a registered user and upload my own content/directly particpate with other users of the site")<br>[3.3](README.md#milestone-3---user-access "As a Site Visitor/User I want have a clear indication as to whether or not I am signed in/signed out so I can easily discern if I need to sign up/sign in before accessing certain pages")|<ol><li>Click 'Sign Out' if already signed in</li><li>Click 'Sign Up' in the navbar</li><li>Complete all fields with previously unregistered details</li><li>Click 'Sign Up' button</li></ol>|<ul><li>User directed to 'Sign In' page</li><li>Success toast informs user that sign up was successful</li></ul>|Pass
User cannot sign up unless a username is entered|[2.3](README.md#milestone-2---frontend-navigation "As a Site Visitor I want to easily access a sign up page so I can become a registered user and upload my own content/directly particpate with other users of the site")<br>[3.3](README.md#milestone-3---user-access "As a Site Visitor/User I want have a clear indication as to whether or not I am signed in/signed out so I can easily discern if I need to sign up/sign in before accessing certain pages")|<ol><li>Click 'Sign Out' if already signed in</li><li>Click 'Sign Up' in the navbar</li><li>Complete all fields except for 'Username'</li><li>Click 'Sign Up' button</li></ol>|<ul><li>Sign-up form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
User cannot sign up with previously registered username|[2.3](README.md#milestone-2---frontend-navigation "As a Site Visitor I want to easily access a sign up page so I can become a registered user and upload my own content/directly particpate with other users of the site")<br>[3.3](README.md#milestone-3---user-access "As a Site Visitor/User I want have a clear indication as to whether or not I am signed in/signed out so I can easily discern if I need to sign up/sign in before accessing certain pages")|<ol><li>Click 'Sign Out' if already signed in</li><li>Click 'Sign Up' in the navbar</li><li>Complete all fields ensuring 'Username' is filled with previously registered details e.g. _testname_</li><li>Click 'Sign Up' button</li></ol>|<ul><li>Sign-up form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
User cannot sign up unless a password is entered|[2.3](README.md#milestone-2---frontend-navigation "As a Site Visitor I want to easily access a sign up page so I can become a registered user and upload my own content/directly particpate with other users of the site")<br>[3.3](README.md#milestone-3---user-access "As a Site Visitor/User I want have a clear indication as to whether or not I am signed in/signed out so I can easily discern if I need to sign up/sign in before accessing certain pages")|<ol><li>Click 'Sign Out' if already signed in</li><li>Click 'Sign Up' in the navbar</li><li>Complete all fields except for 'Password' and/or 'Password (again)'</li><li>Click 'Sign Up' button</li></ol>|<ul><li>Sign-up form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
User cannot sign up if passwords don't match|[2.3](README.md#milestone-2---frontend-navigation "As a Site Visitor I want to easily access a sign up page so I can become a registered user and upload my own content/directly particpate with other users of the site")<br>[3.3](README.md#milestone-3---user-access "As a Site Visitor/User I want have a clear indication as to whether or not I am signed in/signed out so I can easily discern if I need to sign up/sign in before accessing certain pages")|<ol><li>Click 'Sign Out' if already signed in</li><li>Click 'Sign Up' in the navbar</li><li>Complete all fields ensuring 'Password' and 'Confirm Password' contain different data entry</li><li>Click 'Sign Up' button</li></ol>|<ul><li>Sign-up form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
User can sign in to the site|[2.4](README.md#milestone-2---frontend-navigation "As a Site User I want to easily access a sign in page so I can use the full functionality of the site")<br>[3.3](README.md#milestone-3---user-access "As a Site Visitor/User I want have a clear indication as to whether or not I am signed in/signed out so I can easily discern if I need to sign up/sign in before accessing certain pages")|<ol><li>Click 'Sign Out' if already signed in</li><li>Click 'Sign In' in the navbar</li><li>Complete all fields with previously registered details e.g. username: _testname_, password: _test#123_</li><li>Click 'Sign In' button</li></ol>|<ul><li>User directed to 'Home' page</li><li>Success toast informs user that sign in was successful</li></ul>|Pass
User cannot sign in unless a valid username is entered|[2.4](README.md#milestone-2---frontend-navigation "As a Site User I want to easily access a sign in page so I can use the full functionality of the site")<br>[3.3](README.md#milestone-3---user-access "As a Site Visitor/User I want have a clear indication as to whether or not I am signed in/signed out so I can easily discern if I need to sign up/sign in before accessing certain pages")|<ol><li>Click 'Sign Out' if already signed in</li><li>Click 'Sign In' in the navbar</li><li>Complete all fields ensuring Username is filled with previously unregistered details</li><li>Click 'Sign In' button</li></ol>|<ul><li>Sign-in form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
User cannot sign in unless a valid password is entered|[2.4](README.md#milestone-2---frontend-navigation "As a Site User I want to easily access a sign in page so I can use the full functionality of the site")<br>[3.3](README.md#milestone-3---user-access "As a Site Visitor/User I want have a clear indication as to whether or not I am signed in/signed out so I can easily discern if I need to sign up/sign in before accessing certain pages")|<ol><li>Click 'Sign Out' if already signed in</li><li>Click 'Sign In' in the navbar</li><li>Complete all fields with Username as _testname_ and ensure Password IS NOT _test#123_</li><li>Click 'Sign In' button</li></ol>|<ul><li>Sign-in form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
User can sign out from the site|[3.2](README.md#milestone-3---user-access "As a Site User I want to remain logged in to the site until I choose otherwise so that my experience is not interuppted by having to continously re-enter my username and password")<br>[3.3](README.md#milestone-3---user-access "As a Site Visitor/User I want have a clear indication as to whether or not I am signed in/signed out so I can easily discern if I need to sign up/sign in before accessing certain pages")<br>[3.4](README.md#milestone-3---user-access "As a Site User I want to be able to sign out from my account so that I know my account cannot be accessed by unauthorised persons")|<ol><li>If required, sign in using preregistered details e.g. username: testname, password: test#123</li><li>Click 'Sign Out'</li></ol>|<ul><li>User directed to 'Home' page</li><li>Success toast informs user that sign out was successful</li></ul>|Pass

### Get, Post, Put & Delete (CRUD) Functionality

These tests determine if a user is able to successfully - or otherwise - create (post), view (get), update (put) and/or delete photos, stars, comments, or gear/account info through the front-end capabilities of the site. In all test cases, **one must first sign in** to the site before completing any of the other steps listed (the username _testname_ and password _test#123_ have specifically been registered for this purpose), while the descriptor 'valid details' indicates that the following is expected:

- Required fields (*) are not left blank
- Invalid values/formats have not been added to a field

#### Photo Tests

**Test**|**Ref(s)**|**Steps**|**Expected**|**Result**
-----|:-----:|-----|-----|:-----:
User can upload photo|[4.1](README.md#milestone-4---photo-uploads "As a Site User I want to be able to upload my own astrological photos to the site so that they are shared on the home page and commented on/upvoted by others")<br>[4.2](README.md#milestone-4---photo-uploads "As a Site User I want to include specific details such as keywords, date, time, location etc. with my uploaded photos so that those details can be displayed alongside the photo for the benefit of other users")|<ol><li>Navigate to 'Upload' page</li><li>Add image and complete all fields with valid details</li><li>Click 'Submit' button</li></ol>|<ul><li>User directed to Photo detail page</li><li>Submitted details reflected on Photo detail page</li><li>Uploading and Success toasts inform user that photo upload was successful</li></ul>|Pass
User cannot submit if photo is not selected |[4.1](README.md#milestone-4---photo-uploads "As a Site User I want to be able to upload my own astrological photos to the site so that they are shared on the home page and commented on/upvoted by others")<br>[4.2](README.md#milestone-4---photo-uploads "As a Site User I want to include specific details such as keywords, date, time, location etc. with my uploaded photos so that those details can be displayed alongside the photo for the benefit of other users")|<ol><li>Navigate to 'Upload' page</li><li>Complete all fields with valid details but DO NOT add image</li><li>Click 'Submit' button</li></ol>|<ul><li>Upload form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
User cannot submit if non-image file is selected |[4.1](README.md#milestone-4---photo-uploads "As a Site User I want to be able to upload my own astrological photos to the site so that they are shared on the home page and commented on/upvoted by others")<br>[4.2](README.md#milestone-4---photo-uploads "As a Site User I want to include specific details such as keywords, date, time, location etc. with my uploaded photos so that those details can be displayed alongside the photo for the benefit of other users")|<ol><li>Navigate to 'Upload' page</li><li>Complete all fields with valid details but ensure the uploaded file IS NOT an image file</li><li>Click 'Submit' button</li></ol>|<ul><li>Upload form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
User cannot submit if Title field is blank |[4.1](README.md#milestone-4---photo-uploads "As a Site User I want to be able to upload my own astrological photos to the site so that they are shared on the home page and commented on/upvoted by others")<br>[4.2](README.md#milestone-4---photo-uploads "As a Site User I want to include specific details such as keywords, date, time, location etc. with my uploaded photos so that those details can be displayed alongside the photo for the benefit of other users")|<ol><li>Navigate to 'Upload' page</li><li>Complete all fields with valid details but leave 'Title' blank</li><li>Click 'Submit' button</li></ol>|<ul><li>Upload form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
User cannot submit if Main Feature field is left as "(Select an option)" |[4.1](README.md#milestone-4---photo-uploads "As a Site User I want to be able to upload my own astrological photos to the site so that they are shared on the home page and commented on/upvoted by others")<br>[4.2](README.md#milestone-4---photo-uploads "As a Site User I want to include specific details such as keywords, date, time, location etc. with my uploaded photos so that those details can be displayed alongside the photo for the benefit of other users")|<ol><li>Navigate to 'Upload' page</li><li>Complete all fields with valid details but leave 'Main Feature' as "(Select an option)"</li><li>Click 'Submit' button</li></ol>|<ul><li>Upload form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
User cannot submit if Location field is blank |[4.1](README.md#milestone-4---photo-uploads "As a Site User I want to be able to upload my own astrological photos to the site so that they are shared on the home page and commented on/upvoted by others")<br>[4.2](README.md#milestone-4---photo-uploads "As a Site User I want to include specific details such as keywords, date, time, location etc. with my uploaded photos so that those details can be displayed alongside the photo for the benefit of other users")|<ol><li>Navigate to 'Upload' page</li><li>Complete all fields with valid details but leave 'Location' blank</li><li>Click 'Submit' button</li></ol>|<ul><li>Upload form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
User cannot submit if Location field is blank |[4.1](README.md#milestone-4---photo-uploads "As a Site User I want to be able to upload my own astrological photos to the site so that they are shared on the home page and commented on/upvoted by others")<br>[4.2](README.md#milestone-4---photo-uploads "As a Site User I want to include specific details such as keywords, date, time, location etc. with my uploaded photos so that those details can be displayed alongside the photo for the benefit of other users")|<ol><li>Navigate to 'Upload' page</li><li>Complete all fields with valid details but leave 'Location' blank</li><li>Click 'Submit' button</li></ol>|<ul><li>Upload form will not submit</li><li>Error toast and alert messages inform user of the problem</li></ul>|Pass
Date and Time field add today's date and 00:00 if left blank |[4.1](README.md#milestone-4---photo-uploads "As a Site User I want to be able to upload my own astrological photos to the site so that they are shared on the home page and commented on/upvoted by others")<br>[4.2](README.md#milestone-4---photo-uploads "As a Site User I want to include specific details such as keywords, date, time, location etc. with my uploaded photos so that those details can be displayed alongside the photo for the benefit of other users")|<ol><li>Navigate to 'Upload' page</li><li>Complete all fields with valid details but leave 'Date' and 'Time' blank</li><li>Click 'Submit' button</li></ol>|<ul><li>Submitted details reflected on Photo detail page</li><li>Date shows as today's date and Time as 00:00</li><li>Uploading and Success toasts inform user that photo upload was successful</li></ul>|Pass
User can submit if Photo Description field is left blank |[4.1](README.md#milestone-4---photo-uploads "As a Site User I want to be able to upload my own astrological photos to the site so that they are shared on the home page and commented on/upvoted by others")<br>[4.2](README.md#milestone-4---photo-uploads "As a Site User I want to include specific details such as keywords, date, time, location etc. with my uploaded photos so that those details can be displayed alongside the photo for the benefit of other users")|<ol><li>Navigate to 'Upload' page</li><li>Complete all fields with valid details but leave 'Photo Description' blank</li><li>Click 'Submit' button</li></ol>|<ul><li>Submitted details reflected on Photo detail page</li><li>Desciption field under title remains blank</li><li>Uploading and Success toasts inform user that photo upload was successful</li></ul>|Pass
User can submit if Telescope/Lens, Camera, or Other Equipment fields are left blank |[4.1](README.md#milestone-4---photo-uploads "As a Site User I want to be able to upload my own astrological photos to the site so that they are shared on the home page and commented on/upvoted by others")<br>[4.2](README.md#milestone-4---photo-uploads "As a Site User I want to include specific details such as keywords, date, time, location etc. with my uploaded photos so that those details can be displayed alongside the photo for the benefit of other users")|<ol><li>Navigate to 'Upload' page</li><li>Complete all fields with valid details but leave 'Telescope/Lens', 'Camera', and 'Other Equipment' fields blank</li><li>Click 'Submit' button</li></ol>|<ul><li>Submitted details reflected on Photo detail page</li><li>Equipment fields remain blank</li><li>Uploading and Success toasts inform user that photo upload was successful</li></ul>|Pass
User can access form to edit their own photo|[4.3](README.md#milestone-4---photo-uploads "As a Site User I want to be able to update the details of any photo I have added so that I can correct mistakes or add new information if required")|<ol><li>Navigate to 'Home' page</li><li>Click on an image belonging to signed-in user to open its individual page</li><li>Click 'Edit' button</li></ol>|<ul><li>User directed to Photo Edit form</li></ul>|Pass
User cannot access form to edit another user's photo|[4.5](README.md#milestone-4---photo-uploads "write defensive code to prevent anyone from accessing the ability to update/delete posts which were not specifically uploaded by them")|<ol><li>Navigate to 'Home' page</li><li>Click on an image not belonging to signed-in user to open its individual page</li><li>Add "/edit" to the url and hit enter</li></ol>|<ul><li>User directed to Home page instead of photo edit form</li></ul>|Pass
User can update photo with valid details|[4.3](README.md#milestone-4---photo-uploads "As a Site User I want to be able to update the details of any photo I have added so that I can correct mistakes or add new information if required")|<ol><li>Navigate to 'Home' page</li><li>Click on an image belonging to signed-in user to open its individual page</li><li>Click 'Edit' button</li><li>Update any field with valid details</li><li>Click 'Save' button</li></ol>|<ul><li>Submitted details updated on Photo detail page</li><li>Uploading and Success toasts inform user that photo upload was successful</li></ul>|Pass
User cannot update photo with invalid details|[4.3](README.md#milestone-4---photo-uploads "As a Site User I want to be able to update the details of any photo I have added so that I can correct mistakes or add new information if required")|<ol><li>Navigate to 'Home' page</li><li>Click on an image belonging to signed-in user to open its individual page</li><li>Click 'Edit' button</li><li>Update any field with invalid details e.g. make required field blank</li><li>Click 'Save' button</li><li>Click 'Cancel' button</li></ol>|<ul><li>Upload form will not submit</li><li>Error toast and alert messages inform user of the problem</li><li>Clicking 'Cancel' returns user to photo detail showing same details as before</li></ul>|Pass
User can access modal to delete their own photo|[4.4](README.md#milestone-4---photo-uploads "As a Site User I want to be able to delete any photo I have added so that I can remove my photos from the site if I so desire")|<ol><li>Navigate to 'Home' page</li><li>Click on an image belonging to signed-in user to open its individual page</li><li>Click 'Delete' button</li></ol>|<ul><li>Deletion confirmation modal appears</li></ul>|Pass
User can cancel deletion to keep photo|[4.4](README.md#milestone-4---photo-uploads "As a Site User I want to be able to delete any photo I have added so that I can remove my photos from the site if I so desire")|<ol><li>Navigate to 'Home' page</li><li>Click on an image belonging to signed-in user to open its individual page</li><li>Click 'Delete' button</li><li>Click 'Cancel' button</li></ol>|<ul><li>Modal closes with any deletion made</li></ul>|Pass
User can delete their own photo|[4.4](README.md#milestone-4---photo-uploads "As a Site User I want to be able to delete any photo I have added so that I can remove my photos from the site if I so desire")|<ol><li>Navigate to 'Home' page</li><li>Click on an image belonging to signed-in user to open its individual page</li><li>Click 'Delete' button</li><li>Click 'Delete' button again</li></ol>|<ul><li>User is redirected to home page</li><li>Photo no longer displaying in on feed</li><li>User's profile no longer displays photo</li></ul>|Pass

#### Comment Tests

**Test**|**Ref(s)**|**Steps**|**Expected**|**Result**
-----|:-----:|-----|-----|:-----:
User can add comment to photo|[5.4](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to select an individual photo from the feed so I can view details, comments, and upvotes directly associated with that photo")<br>[6.2](README.md#milestone-6---community-interaction "As a Site User I want to be able to comment on other users photos so that I can ask questions and/or start a discussion about the photo")|<ol><li>Navigate to 'Home' page</li><li>Click on an image to open its individual page</li><li>Add text to comment box and click '+' button</li></ol>|<ul><li>Comment text appears immediately under 'Comments' heading</li><li>Comment is accompanied by relevant username and avatar</li><li>Date and time of addition shown above comment text</li><li>'Edit' and 'Delete' links appear below comment text</li></ul>|Pass
User cannot add 'blank comment' to photo|[5.4](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to select an individual photo from the feed so I can view details, comments, and upvotes directly associated with that photo")<br>[6.2](README.md#milestone-6---community-interaction "As a Site User I want to be able to comment on other users photos so that I can ask questions and/or start a discussion about the photo")|<ol><li>Navigate to 'Home' page</li><li>Click on an image to open its individual page</li><li>Ensure there is NO TEXT in comment box and click '+' button</li></ol>|<ul><li>'+' button remains greyed-out</li><li>No new entry appears under 'Comments' heading</li></ul>|Pass
User can edit their own comment|[5.4](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to select an individual photo from the feed so I can view details, comments, and upvotes directly associated with that photo")<br>[6.2](README.md#milestone-6---community-interaction "As a Site User I want to be able to comment on other users photos so that I can ask questions and/or start a discussion about the photo")|<ol><li>Navigate to 'Home' page</li><li>Click on an image to open its individual page</li><li>Add text to comment box and click '+' button</li><li>Click on 'Edit' link</li><li>Update comment (do not leave blank) and click 'Save'</li></ol>|<ul><li>Edit form closes to display comment</li><li>Comment is updated according to edited text</li><li>Last updated displays "just now"</li></ul>|Pass
User cannot edit comment to be blank|[5.4](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to select an individual photo from the feed so I can view details, comments, and upvotes directly associated with that photo")<br>[6.2](README.md#milestone-6---community-interaction "As a Site User I want to be able to comment on other users photos so that I can ask questions and/or start a discussion about the photo")|<ol><li>Navigate to 'Home' page</li><li>Click on an image to open its individual page</li><li>Add text to comment box and click '+' button</li><li>Click on 'Edit' link</li><li>Update comment to be completely blank and click 'Save'</li></ol>|<ul><li>Edit remains open an update is not applied</li></ul>|Pass
User can cancel comment edit|[5.4](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to select an individual photo from the feed so I can view details, comments, and upvotes directly associated with that photo")<br>[6.2](README.md#milestone-6---community-interaction "As a Site User I want to be able to comment on other users photos so that I can ask questions and/or start a discussion about the photo")|<ol><li>Navigate to 'Home' page</li><li>Click on an image to open its individual page</li><li>Add text to comment box and click '+' button</li><li>Click on 'Edit' link</li><li>Update comment (do not leave blank) and click 'Cancel'</li></ol>|<ul><li>Edit form closes to display comment</li><li>Comment displays as before</li><li>Last updated remains unchanged</li></ul>|Pass
User can delete their own comment|[5.4](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to select an individual photo from the feed so I can view details, comments, and upvotes directly associated with that photo")<br>[6.2](README.md#milestone-6---community-interaction "As a Site User I want to be able to comment on other users photos so that I can ask questions and/or start a discussion about the photo")|<ol><li>Navigate to 'Home' page</li><li>Click on an image to open its individual page</li><li>Add text to comment box and click '+' button</li><li>Click on 'Delete' link</li></ol>|<ul><li>Comment is immediately removed from comment list</li></ul>|Pass

#### Star Tests

**Test**|**Ref(s)**|**Steps**|**Expected**|**Result**
-----|:-----:|-----|-----|:-----:
User can add star to photo which is not their own|[6.2](README.md#milestone-6---community-interaction "As a Site User I want to be able to upvote other users photos so that I can show my appreciation for their photography")|<ol><li>Navigate to 'Home' page</li><li>Click on the star icon of a photo not uploaded by the user</li></ol>|<ul><li>Star icon changes from white outline to filled gold</li><li>Star count increases by one</li></ul>|Pass
User can remove star from photo which is not their own|[6.2](README.md#milestone-6---community-interaction "As a Site User I want to be able to upvote other users photos so that I can show my appreciation for their photography")|<ol><li>Navigate to 'Home' page</li><li>Click on the star icon of a photo previously clicked by the user (star with golden fill)</li></ol>|<ul><li>Star icon changes from filled gold to white outline</li><li>Star count decreases by one</li></ul>|Pass
User cannot add star to own photo|[6.2](README.md#milestone-6---community-interaction "As a Site User I want to be able to upvote other users photos so that I can show my appreciation for their photography")|<ol><li>Navigate to 'Home' page</li><li>Click on the star icon of a photo uploaded by the user</li></ol>|<ul><li>Star icon remains unchanged in style (filled white)</li><li>Tooltip appears explaining users cannot upvote own photos</li><li>Star count remains unchanged</li></ul>|Pass
User cannot add stars while signed-out|[6.2](README.md#milestone-6---community-interaction "As a Site User I want to be able to upvote other users photos so that I can show my appreciation for their photography")|<ol><li>Click 'Sign Out' in the navbar</li><li>Navigate to 'Home' page if not already there</li><li>Click on the star icon of a photo not uploaded by the user</li></ol>|<ul><li>Star icon remains unchanged in style (white outline)</li><li>Tooltip appears explaining that sign in is required</li><li>Star count remains unchanged</li></ul>|Pass

#### Gear & Account Detail Tests

**Test**|**Ref(s)**|**Steps**|**Expected**|**Result**
-----|:-----:|-----|-----|:-----:
User can edit their gear profile|[5.5](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to access a personalised profile page so that I can add an avatar, personal bio and equipment details")|<ol><li>Navigate to 'Gear' page</li><li>Update form fields with any valid data</li><li>Click 'Save' button</li></ol>|<ul><li>Success toast informs user that update was successful</li><li>User redirected to their Profile page</li><li>Items under 'Main Gear' updated with new values</li></ul>|Pass
User can cancel gear edit|[5.5](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to access a personalised profile page so that I can add an avatar, personal bio and equipment details")|<ol><li>Navigate to 'Gear' page</li><li>Update form fields with any valid data</li><li>Click 'Cancel' button</li></ol>|<ul><li>User redirected to their Profile page</li><li>Details under 'Main Gear' remain unchanged</li></ul>|Pass
User can update their avatar|[5.5](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to access a personalised profile page so that I can add an avatar, personal bio and equipment details")|<ol><li>Navigate to 'Account' page</li><li>Click 'Choose File' button</li><li>Select a valid image file</li><li>Click 'Save' button</li></ol>|<ul><li>User redirected to their Profile page</li><li>Avatar displayed with updated image</li></ul>|Pass
User cannot save if avatar is not image file|[5.5](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to access a personalised profile page so that I can add an avatar, personal bio and equipment details")|<ol><li>Navigate to 'Account' page</li><li>Click 'Choose File' button</li><li>Select a non-image file</li><li>Click 'Save' button</li></ol>|<ul><li>Error toast informs user of the problem</li></ul>|Pass
User can edit Name and Personal Details|[5.5](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to access a personalised profile page so that I can add an avatar, personal bio and equipment details")|<ol><li>Navigate to 'Account' page</li><li>Update 'Name' and 'Personal Detail' fields with any valid data</li><li>Click 'Save' button</li></ol>|<ul><li>Success toast informs user that update was successful</li><li>User redirected to their Profile page</li><li>Updated details displayed beside avatar</li></ul>|Pass
User can cancel account edit|[5.5](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to access a personalised profile page so that I can add an avatar, personal bio and equipment details")|<ol><li>Navigate to 'Account' page</li><li>Update avatar/form fields with any valid data</li><li>Click 'Cancel' button</li></ol>|<ul><li>User redirected to their Profile page</li><li>Details under Profile remain unchanged</li></ul>|Pass

### Filter Tests

These tests ensure that a user can successfully filter photos on the signed-in Home page using either the provided buttons or the search bar facility. As such, **one must first sign in** to the site before completing any of the other steps listed below (the username _testname_ and password _test#123_ have specifically been registered for this purpose).

**Test**|**Ref(s)**|**Steps**|**Expected**|**Result**
-----|:-----:|-----|-----|:-----:
User can view all photos|[5.1](README.md#milestone-5---home--profile-pages "As a Site Visitor/User I want to view all user photos from the home page so I can see the latest content when first accessing the site")<br>[5.3](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to search photos with keywords (title, feature, user, etc.) so I can view content specifically related to those keywords")|<ol><li>Navigate to 'Home' page</li><li>Select 'Your photos', 'Stars given' or 'Comments given' filter button</li><li>Click 'All photos' filter button</li></ol>|<ul><li>Photo feed updates to show photos by all site users</li></ul>|Pass
User can view only their own photos|[4.1](README.md#milestone-4---photo-uploads "as a Site User I want to be able to upload my own astrological photos to the site so that they are shared on the home page and commented on/upvoted by others")<br>[5.1](README.md#milestone-5---home--profile-pages "As a Site Visitor/User I want to view all user photos from the home page so I can see the latest content when first accessing the site")|<ol><li>Navigate to 'Home' page</li><li>Click 'Your photos' filter button</li></ol>|<ul><li>Photo feed updates to only show photos by uploaded by signed-in user</li><li>'No results' message/image shows if user has not made any uploads</li></ul>|Pass
User can view only photos they have given a star to|[5.1](README.md#milestone-5---home--profile-pages "As a Site Visitor/User I want to view all user photos from the home page so I can see the latest content when first accessing the site")<br>[6.3](README.md#milestone-6---community-interaction "As a Site User I want to view a feed of those photos I've upvoted so I have easy access to those posts I've shown a particular interest in")|<ol><li>Navigate to 'Home' page</li><li>Click 'Stars given' filter button</li></ol>|<ul><li>Photo feed updates to only show photos given a star by signed-in user</li><li>'No results' message/image shows if user has not given any stars</li></ul>|Pass
User can view only photos they have commented on|[5.1](README.md#milestone-5---home--profile-pages "As a Site Visitor/User I want to view all user photos from the home page so I can see the latest content when first accessing the site")<br>[6.4](README.md#milestone-6---community-interaction "As a Site User I want to view a feed of those photos I've commented on so I have easy access to posts where I am involved in a discussion thread")|<ol><li>Navigate to 'Home' page</li><li>Click 'Stars given' filter button</li></ol>|<ul><li>Photo feed updates to only show photos commented on by signed-in user</li><li>'No results' message/image shows if user has not made any comments</li></ul>|Pass
User can filter photo results using search bar|[5.1](README.md#milestone-5---home--profile-pages "As a Site Visitor/User I want to view all user photos from the home page so I can see the latest content when first accessing the site")<br>[5.3](README.md#milestone-5---home--profile-pages "As a Site User I want to be able to search photos with keywords (title, feature, user, etc.) so I can view content specifically related to those keywords")|<ol><li>Navigate to 'Home' page</li><li>Enter a valid word/phrase/username etc. into the search bar</li></ol>|<ul><li>Photo feed updates to show photos whose title, description, owner etc. contains search term(s)</li><li>'No results' message/image shows if no matching results are found</li></ul>|Pass

<!-- ## Automated Testing

A number of automated tests have been written to provide additional validation alongside those manual tests which check for a user's ability to view the booking section, depending on whether or not they are authenticated, as well as attempts to update/delete bookings which do not belong to a user.

All of these tests are found within the [tests.py](booking_sys/tests.py) file in the repository.

![Automated](static/images/testing/testing-automated.png) -->

## PEP8 Validator Testing

All files have been passed through the [Code Institute PEP8 Linter](https://pep8ci.herokuapp.com/). The only warnings given were for the settings.py file which contains a small number of long lines (i.e. greater than 80 characters) under AUTH_PASSWORD_VALIDATORS; as this is code implemented by Django itself at setup, these lines will be left unchanged. 

## Bugs

There are no known bugs in the current deployment of the site. A number of bugs were found, added to the [Kanban workflow](https://github.com/users/ndsurgenor/projects/9), and corrected during development. A brief summary of the backend bugs are provided below:

**Type**|**Issue**|**Detail**|**Solution**|**Result**
-----|-----|-----|-----|:-----:
Data|Database won't migrate|After creating the Stars model and serializer, attempted to run migrations using `python manage.py makemigrations` and `python manage.py migrate`. Terminal displays a `UNIQUE constraint not valid` message.|<ul><li>Delete migrations</li><li>Delete and recode Stars app/model</li><li>Rerun migrations</li></ul>|Fixed
Data|Photos POST function creating IntegrityError|When trying to create upload a photo using the POST function the message `django.db.utils.IntegrityError: NOT NULL constraint failed: photos_photo.user_id` appears|<ul><li>Correct syntax of `def perform_create()` method (incorrectly names as `def create_photo`)</li></ul>|Fixed
Connection|API not accepting data from Frontend|When attempting to sign up a new user via the frontend, an error is logged to the console regarding blocked CORS policy and the React 'white screen' is shown|<ul><li>Added `CLIENT_ORIGIN` and `CLIENT_ORIGIN_DEV` variables to the env.py file</li><li>Added code block to settings.py (see under table)</li></ul>|Fixed
Connection|API not sending `profile_id` and `profile_image` variables|When trying to display a user avatar and receive their id on the frontend, a broken image link is shown in the navbar along with an undefined value in developer tools|<ul><li>Removed underscore from `user_profile` and `equipment_profile`in all serializer files</li></ul>|Fixed
Data|Photo Upload/Edit Form not saving details|Date and Time fields displaying errors within the frontend console with regard to null values|<ul><li>Removed `null="True"` on date and time fields in photos model</li><li>Added relevant defaults to date and time fields</li></ul>|Fixed

``` python
if 'CLIENT_ORIGIN' in os.environ:
    CORS_ALLOWED_ORIGINS = [
        os.environ.get('CLIENT_ORIGIN')
    ]
if 'CLIENT_ORIGIN_DEV' in os.environ:
    extracted_url = re.match(r'^.+-', os.environ.get('CLIENT_ORIGIN_DEV', ''), re.IGNORECASE).group(0)
    CORS_ALLOWED_ORIGIN_REGEXES = [
        rf"{extracted_url}(eu|us)\d+\w\.gitpod\.io$",
    ]
```